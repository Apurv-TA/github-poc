<div class="recommend-offers-card">
  <div class="title__container">
    <h6 class="left-title title subcolunmtext pl-2">{{ 'lang.discount_config.impact_table' | translate }}</h6>
    
    <div class="drop_down_cont">
      <div class="select_cont">
        <span class="impact_title">{{ 'lang.discount_config.kpiType' | translate }}</span>
        <ng-select class="form-control" class="form-control startdt" (ngModelChange)="kpiChangeEvent($event)"
          [(ngModel)]="selectedKpiValue">
          <ng-option [value]="1">{{ 'lang.rec_discount.change' | translate }}</ng-option>
          <ng-option [value]="2">{{ 'lang.rec_discount.lift_value' | translate }}</ng-option>
          <ng-option [value]="3">{{ 'lang.rec_discount.scenario_value'| translate }}</ng-option>
          <ng-option [value]="4">{{ 'lang.rec_discount.baseline_value' | translate }}</ng-option>
        </ng-select>
      </div>
      <button style="border: 0px !important; background: none" [disabled]="detailedExportDisable"
        (click)="exportDownloadDto()">
        <div class="excel-card">
          <img src="assets/offer-configuration/excel.png" class="excel" alt="Excel" />
          <h6 class="excelcont excel_font cursorhand">
            {{ 'lang.scenario_planner.exportimpact' | translate }}
          </h6>
        </div>
      </button>
    </div>
  </div>
  <div class="col-12 container__row p-0 boxstyleimpact">
    <table mat-table #table1="matSort" [dataSource]="tableDataSource" class="width w-100 col-12 offer_package_table" matSort (matSortChange)="sortData($event)">
      <ng-container matColumnDef="sno">
        <th mat-header-cell *matHeaderCellDef>
          <b class="clrblack">{{ 'lang.discount_config.sl' | translate }}</b>
        </th>
        <td mat-cell *matCellDef="let row; let i = index">
          <p class="scenAlign">{{ i + 1 }}</p>
        </td>
      </ng-container>
      <ng-container matColumnDef="coop_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <b class="clrblack">{{ 'lang.discount_config.geo' | translate }}</b>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.coop_name }}</td>
      </ng-container>

      <ng-container matColumnDef="promo_type">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header>
          <b class="clrblack">{{ 'lang.discount_config.pro_type' | translate }}</b>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.promo_type }}</td>
      </ng-container>

      <ng-container matColumnDef="gc">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <b class="clrblack">{{ 'lang.discount_config.gc' | translate }}&nbsp;
            <span *ngIf="selectedKpiValue == 4">(%) </span>
          </b>
        </th>
        <!-- {{fixedFormat(row.gc_lift)}} -->
        <td mat-cell *matCellDef="let row">

          <p class="m-0 gcColAlign">
            {{row.gc | round | number:'0.1-1' | numbersdisplay}}
          </p>
        </td>

      </ng-container>

      <ng-container matColumnDef="sales">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <b class="clrblack">
            {{ 'lang.discount_config.sales' | translate }}&nbsp;
            <span *ngIf="selectedKpiValue == 1">(%)</span>
            <!-- <span *ngIf="selectedKpiValue == 2">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 3">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 4">({{ currencyCode }})</span> -->
          </b>
        </th>
        <td mat-cell *matCellDef="let row">

          <p class="m-0 salesColAlign">
            {{row.sales | round | numbersdisplay}}
          </p>

        </td>
      </ng-container>


      <ng-container matColumnDef="gp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <b class="clrblack">
            {{ 'lang.discount_config.gm' | translate }}&nbsp;
            <span *ngIf="selectedKpiValue == 1">(%)</span>
            <!-- <span *ngIf="selectedKpiValue == 2">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 3">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 4">({{ currencyCode }})</span> -->
          </b>
        </th>
        <td mat-cell *matCellDef="let row">

          <p class="m-0 gmColAlign">
            {{row.gp | round | number:'0.1-1'| numbersdisplay}}
          </p>

        </td>
      </ng-container>

      <ng-container matColumnDef="acv">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <b class="clrblack">{{ 'lang.discount_config.avgcheck' | translate }}&nbsp;
            <span *ngIf="selectedKpiValue == 1">(%)</span>
            <!-- <span *ngIf="selectedKpiValue == 2">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 3">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 4">({{ currencyCode }})</span> -->
          </b>
        </th>
        <td mat-cell *matCellDef="let row">

          <p class="m-0 avgColAlign">
            {{row.acv | number:'0.1-1' | numbersdisplay}}
          </p>

        </td>
      </ng-container>

      <ng-container matColumnDef="upt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <b class="clrblack">{{ 'lang.discount_config.upt' | translate }}&nbsp;
            <!-- <span *ngIf="selectedKpiValue == 1">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 2">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 3">({{ currencyCode }})</span> -->
            <span *ngIf="selectedKpiValue == 4">(%)</span>
          </b>
        </th>
        <td mat-cell *matCellDef="let row">

          <p class="m-0 uptColAlign">
            {{row.upt | round | number:'0.1-1'| numbersdisplay}}
          </p>

        </td>
      </ng-container>

      <ng-container matColumnDef="urw">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <b class="clrblack">{{ 'lang.discount_config.urw' | translate }}&nbsp;
            <!-- <span *ngIf="selectedKpiValue == 1">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 2">({{ currencyCode }})</span>
            <span *ngIf="selectedKpiValue == 3">({{ currencyCode }})</span> -->
            <span *ngIf="selectedKpiValue == 4">(%)</span>
          </b>
        </th>
        <td mat-cell *matCellDef="let row">
          <p class="m-0 urwColAlign">
            {{row.urw | round | number:'0.1-1' | numbersdisplay}}
          </p>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsimpact"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsimpact"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="7">{{ 'lang.discount_config.Nodata' | translate }}</td>
      </tr>
    </table>
  </div>

  <!-- <div class="note" *ngIf="selectedKpiValue == 1"><i>*{{impactNote}}*</i></div> -->
</div>